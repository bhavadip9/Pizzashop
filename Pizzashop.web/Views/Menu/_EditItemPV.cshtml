
@model Pizzashop.entity.ViewModels.AddItemViewModel


<div class="modal fade" id="EditItem" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <form method="post" id="editItemForm" enctype="multipart/form-data"  asp-antiforgery="true">
               
                <input type="hidden" id="ItemID" asp-for="ItemId">
                 <input type="hidden" id="SelectedModifierGroupIdsEdit" name="SelectedModifierGroupIdsEdit" asp-for="ModifierIds">
                <input type="hidden" id="SelectedModifierGroupJsonEdit" name="SelectedModifierGroupJsonEdit" asp-for="SelectedModifierGroupJsonEdit">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">
                        Edit Menu Item</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <div class="row">
                            <div class="col-sm-8">
                                <div class="row">
                                    <div class="col">
                                        <div class="form-floating">
                                            <select class="form-select" 
                                                aria-label="Floating label select example" id="CategorySelect" asp-for="CategoryId" >
                                            </select>
                                            <label for="AddCategory">Categories*</label>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" id="editItemName" 
                                                placeholder="Name*"  asp-for="ItemName">
                                            <label for="addCategoryItemName" >Name</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-floating">
                                            <select class="form-select"
                                                    aria-label="Floating label select example"   id="addItemType" asp-for="FoodType">
                                                     <option value="Vegetarian">Vegetarian</option>
                                                    <option value="Non-Vegetarian">Non-Vegetarian</option>
                                                    <option value="Vegan">Vegan</option>
                                                </select>
                                            <label for="addItemType">Item Type*</label>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control"  placeholder="Rate" id="Price" asp-for="Price"
                                                value="0">
                                            <label for="addRate">Rate*</label>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" id="Quantity" asp-for="Quantity" placeholder="Quantity"
                                                value="0">
                                            <label for="addCategoryItemQuantity">Quantity*</label>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating">
                                            <select class="form-select" 
                                                    aria-label="Floating label select example" asp-for="UintId" id="UnitSelectedit">
                                                </select>
                                                <label for="UnitSelectedit">Unit*</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col d-flex align-items-center justify-content-center">
                                        <h5>
                                            <div class="form-check form-switch">
                                                 <input class="form-check-input toggle-switch" id="IsAvailable" asp-for="IsAvailable"
                                                type="checkbox" role="switch">
                                                <label class="form-check-label" for="addAvailable">Available</label>
                                            </div>

                                    </div>
                                    <div class="col d-flex align-items-center justify-content-center">
                                        <h5>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" id="IsDefault" type="checkbox" role="switch" asp-for="IsDefault">
                                                <label class="form-check-label text-small" for="addTax"  >Default
                                                    Tax</label>
                                            </div>
                                        </h5>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" id="Tax" asp-for="Tax"
                                                placeholder="Tax Percentage" >
                                            <label for="Tax">Tax
                                                Percentage </label>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-3">
                                            <input type="text" class="form-control" id="shortcode" placeholder="Short Code" asp-for="shortcode">
                                            <label for="shortcode">Short
                                                Code</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-floating">
                                        <textarea class="form-control" placeholder="Leave a comment here"
                                            id="Descriptionitem" style="height: 100px" asp-for="Descriptionitem"></textarea>
                                        <label for="Descriptionitem">Description</label>
                                    </div>
                                </div>
                                <div class="row ms-1">
                                    <h6>Upload Image</h6>
                                    <div class="border form-control ">
                                        <label for="formfile"
                                            class="form-label d-flex gap-2 justify-content-center align-items-center pt-3 ">
                                            <h3><i class="bi bi-cloud-arrow-up-fill"></i>
                                           
                                           <input type="file" class="form-control d-none" id="formfile" asp-for="FormFile" accept="image/png, image/gif, image/jpeg" onchange="previewitem()">
                                            </h3>
                                            <img src="images/cloud-upload-icon.svg" alt="" id="profile-image" style="width: 40px; height: 40px;">
                                            <span class="pb-2">
                                                Drag and Drop or Browse
                                                Files
                                            </span>
                                        </label>
                                        
                                    </div>
                                </div>
                            </div>
                           <div class="col-4" style="background-color: rgb(240, 211, 133);">
 <div class="dropdown ">
  <button class="btn mt-2 dropdown-toggle w-100 bg-white" type="button" id="SelectModifierInItemedit" data-bs-toggle="dropdown" aria-expanded="false">
    Select ModifierGroup
  </button>
  <ul class="dropdown-menu dropdown-checkboxes w-100 " id="modifierDropdownEdit" aria-labelledby="SelectModifierInItemedit" >
   
  </ul>
</div>
                           
                            <div id="modifierContaineredit" style="overflow-y: scroll; height: 450px;"></div>
                        </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                  
                    <button type="button" class="btn btn-white border border-primary"
                        data-bs-dismiss="modal">Cancel</button>
                          <button type="submit" class="btn btn-primary" id="updateItemBtn">Update</button>
                </div>

                <input type="hidden" id="addItemId">
            </form>
        </div>
    </div>
</div> 



<script>
    function previewitem() {
        const fileInput = document.getElementById("formfile");
        const image = document.getElementById("profile-image");
        const file = fileInput.files[0];

        if (file) {
            image.src = URL.createObjectURL(file);
            image.style.width = "8%";
            image.style.height = "40px";
        }
    }
</script>